<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Server Status</title>
    <link rel="stylesheet" href="../static/styles.css">
</head>
<body>
    <div class="container">

        <!-- Main content -->
        <div class="main-content">
            <!-- Server card for BuildCraft -->
            <div class="server-card">

                 <!-- Server name and version on the same line -->
                <div class="server-header">
                    <h3>BuildCraft</h3>
                    <span class="server-version">{{ buildcraft_info.version }}</span>
                </div>

                <!-- Subtitle for the server -->
                <p class="server-subtitle">A server for builders</p>

                <!-- IP ox for server card -->
                <p>IP:
                    <span class="ip-box" id="mc1.averyfisher.com" onclick="copyToClipboard('mc1.averyfisher.com')">mc1.averyfisher.com</span>
                </p>

                <!-- Links on bottom of server card -->
                <div class="links">
                    <a href="/dynmap/50.86.215.18">Dynmap</a>
                    <a href="https://www.chunkbase.com/apps/seed-map#seed=5292203055257791795&platform=java_1_21&dimension=overworld&x=0&z=0&zoom=0.5" target="_blank">Seedmap</a>
                    <a href="/buildcraft/changelog">Changelog</a> <!-- Link to BuildCraft's changelog -->
                    <a href="/buildcraft/permissions">Permissions</a>
                    <a href="/buildcraft/commands">Commands</a>
                </div>

                <!-- Server status and player count in top right -->
                <div class="status-container">
                    <div class="player-count">
                        {% if buildcraft_info.players_online > 0 %}
                            {{ buildcraft_info.players_online }}
                            {% if buildcraft_info.players_online|default(0) == 1 %}player{% else %}players{% endif %}
                        {% endif %}
                        <div class="player-list">
                            <ul>
                                {% for player in buildcraft_info.players_sample %}
                                    <li>{{ player }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>

                    <!-- Information on if server is online or offline -->
                    <div class="status {% if buildcraft_info.error %}offline{% else %}online{% endif %}">
                        {% if buildcraft_info.error %}
                            Offline
                        {% else %}
                            Online
                        {% endif %}
                    </div>
                </div>
            </div>


            <!-- Blank Server Card Template -->
            <div class="server-card">
                <div class="server-header">
                    <h3>SavageLands</h3>
                    <span class="server-version">{{ savagelands_info.version }}</span>
                </div>

                <!-- Subtitle for the server -->
                <p class="server-subtitle">A hardcore Minecraft experience</p>

                <p>IP:
                    <span class="ip-box" id="mc2.averyfisher.com" onclick="copyToClipboard('mc2.averyfisher.com')">mc2.averyfisher.com</span>
                </p>
                <div class="links">
                    <a href="#">Changelog</a>
                    <a href="#">Permissions</a>
                    <a href="#">Commands</a>
                </div>


                <!-- Server status and player count in top right -->
                <div class="status-container">
                    <div class="player-count">
                        {% if savagelands_info.players_online > 0 %}
                            {{ savagelands_info.players_online }}
                            {% if savagelands_info.players_online|default(0) == 1 %}player{% else %}players{% endif %}
                        {% endif %}
                        <div class="player-list">
                            <ul>
                                {% for player in savagelands_info.players_sample %}
                                    <li>{{ player }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>

                    <!-- Information on if server is online or offline -->
                    <div class="status {% if savagelands_info.error %}offline{% else %}online{% endif %}">
                        {% if savagelands_info.error %}
                            Offline
                        {% else %}
                            Online
                        {% endif %}
                    </div>
                </div>
            </div>


            <!-- Server card for Server3 -->
            <div class="server-card">
                <div class="server-header">
                    <h3>Future Modded Server</h3>
                </div>

                <!-- Subtitle for the server -->
                <p class="server-subtitle">A CreateMod server with a few extras</p>

                <p>IP:
                    <span class="ip-box" id="ip-address3" onclick="copyToClipboard('ip-address3')">Coming Soon!</span>
                </p>
                <div class="links">
                    <a href="#">Dynmap</a>
                    <a href="#">Seedmap</a>
                    <a href="#">Changelog</a>
                    <a href="#">Permissions</a>
                    <a href="#">Commands</a>
                </div>
            </div>
        </div>
    </div>


    <!-- Javascript to enable copy IP function for each server card -->
<script>
    function copyToClipboard(value) {
        // Create a temporary input element to copy the value
        var tempInput = document.createElement("input");

        // Check if value is a string (IP address) or an element ID
        if (value.includes(".")) {
            tempInput.value = value; // If it's a string like mc1.averyfisher.com
        } else {
            var element = document.getElementById(value);
            tempInput.value = element.innerText; // Copy text content of the element
        }

        document.body.appendChild(tempInput);
        tempInput.select();
        tempInput.setSelectionRange(0, 99999); // For mobile devices
        document.execCommand("copy");
        document.body.removeChild(tempInput);
        alert("Copied the IP: " + tempInput.value);
    }
</script>

</body>
</html>
